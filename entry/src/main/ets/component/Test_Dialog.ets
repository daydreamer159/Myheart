
@Component
@CustomDialog
export default struct Test_Dialog{
  mydialogController:CustomDialogController
  @Prop give_sub_num:number
  @Prop receive_moneys:string
  @Prop receive_objects:string
  // give_sub_num:number=3
  // receive_moneys:string="20"
  // receive_objects:string="pc"
  @Prop love_numbers:Array<string>
  onClickAction=()=>{}
  build() {
    Flex({direction:FlexDirection.Column}){
      //上方背景
      Flex(){
        Image($r("app.media.success"))
          .width("100%")
          .height("200")
          .borderRadius({bottomLeft:700,bottomRight:700})
      }
      //金牌头像
      Flex({justifyContent:FlexAlign.SpaceBetween,
        alignItems:ItemAlign.Center}){
        Image($r("app.media.user2"))
          .width(100)
          .height(100)
          // .margin({left:25,top:15})
          .margin({left:30,top:30})
          .borderRadius(50)
      }
      .backgroundImage($r("app.media.jinpai"))
      .width(200)
      .height(200)
      .margin({left:100,bottom:0})
      //感谢语
      Flex({direction:FlexDirection.Column,
        justifyContent:FlexAlign.Center,
        alignItems:ItemAlign.Center}){
        Text("感谢你的第"+this.give_sub_num+"次捐助")
          .fontSize(25)
          .width(250)
          .fontColor(Color.White)
          .margin({top:50,bottom:20,left:20})
        Flex({direction:FlexDirection.Row,}){
          Image($r("app.media.jiangbei"))
            .width(40)
            .height(40)
          Text("荣耀+"+this.give_sub_num)
            .fontColor(Color.White)
            .fontSize(20)
            .margin({top:5,left:5})
        }
        .height(150)
        .width(150)
        .margin({top:0,left:30})
        //本项目收到爱心多少颗
        Flex({direction:FlexDirection.Column,
          alignItems:ItemAlign.Center}){
          Text("本项目已收到爱心:")
            .fontColor(Color.White)
            .fontSize(25)
            .width(250)
            .height(25)
            .margin({left:20,top:25,bottom:30})
          Flex({direction:FlexDirection.Row}){
            ForEach(this.love_numbers,(item:number)=>{
              Flex({alignItems:ItemAlign.Center,
                justifyContent:FlexAlign.Center}){
                Text(item+"")
                  .fontColor(Color.White)
                  .fontSize(20)
                  .width(40)
                  .padding(5)
              }
              .width(80)
              .height(40)
              .margin({top:10})
              .backgroundImage($r("app.media.bj"))
              .backgroundImageSize(ImageSize.Contain)
            })
            Text("颗")
              .fontColor(Color.White)
              .fontSize(25)
              .width(80)
              .height(80)
              .margin({top:-10})
          }
          .width(220)
          .height(220)
          .margin({top:-5})
        }
        .width("100%")
        .height(300)
        .margin({top:-30})
        Flex({direction:FlexDirection.Row}){
          Flex({direction:FlexDirection.Column}){
            //添加捐助信息
            Flex({direction:FlexDirection.Row}){
              Text("捐款数额:")
                .fontSize(20)
                .fontColor(Color.Black)
                .width(90)
                .height(30)
              Text(this.receive_moneys+"元")
                .fontColor(Color.White)
                .width(80)
                .height(30)
                .fontSize(20)
                .border({width:2,color:Color.Red,style:BorderStyle.Solid})
                .margin({top:-4})
            }
            .width(200)
            .height(30)
            .margin({bottom:30})
            Flex({direction:FlexDirection.Row}){
              Text("捐赠物资:")
                .fontSize(20)
                .fontColor(Color.Black)
                .width(90)
                .height(30)
              Text(this.receive_objects)
                .fontColor(Color.White)
                .width(150)
                .height(50)
                .fontSize(20)
                .border({width:2,color:Color.Red,style:BorderStyle.Solid})
                .margin({top:-10})
            }
            .width(300)
            .height(30)
            .margin({top:30})
          }
          Flex({direction:FlexDirection.Column,
          alignItems:ItemAlign.Center}){
            Text("现在可以扫码付款或者把捐赠物资发快递")
              .fontColor(Color.White)
              .width(100)
              .margin({bottom:10})
            QRCode("您已成功付款或者成功发送物资")
              .width(80)
              .height(80)
          }
          .width(100)
          .height(120)
        }
        .width(280)
        .height(60)
        .margin({top:-10,bottom:100})

        //再添加爱心传递按钮
        Button("我要传递爱心")
          .width("60%")
          .height(100)
          .fontSize(20)
          .margin({bottom:10})
          .fontColor(Color.Red)
          .backgroundColor(Color.White)
          .onClick(()=>{
            this.onClickAction()
          })
      }
    }
    .backgroundColor(Color.Red)
    .height("100%")
  }
}
